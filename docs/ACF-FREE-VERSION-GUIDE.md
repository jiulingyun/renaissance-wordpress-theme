# ACF 免费版字段配置完成 ✅

## 🎉 所有字段已改为 ACF 免费版兼容方案

所有 Repeater 字段已改为**固定数量的 Group 字段**，完全兼容 ACF 免费版！

---

## 📋 已配置的字段

### 1. 首页 - 媒体报道卡片

**开关**：使用自定义卡片  
**数量**：6 个固定卡片位

**每个卡片包含**：
- 卡片图片
- 卡片标题
- 卡片描述
- 卡片链接
- 发布日期

**使用方法**：
1. 编辑首页
2. 开启"使用自定义卡片"开关
3. 填写"媒体卡片 1" 到 "媒体卡片 6"
4. 留空的卡片不会显示

---

### 2. Research 页面 - 科学家/工程师

**开关**：使用自定义工程师列表  
**数量**：10 个固定工程师位

**每个工程师包含**：
- 头像
- 姓名
- 职位/头衔
- 研究领域
- 个人简介
- 个人主页链接

**使用方法**：
1. 编辑 Research 页面
2. 开启"使用自定义工程师列表"开关
3. 填写"工程师 1" 到 "工程师 10"
4. 留空的工程师不会显示

---

### 3. Cases（案例） - 自定义字段

**基本信息**：
- 案例分类
- 案例副标题

**性能指标**：5 个固定指标位（Group 字段）
- 每个指标包含：指标数值 + 指标标签
- 留空的指标不会显示

**项目信息**：
- 项目周期
- 团队规模
- 市场范围
- 使用技术

**关键特性**：10 个固定特性位（Text 字段）
- 留空的特性不会显示

---

### 4. Announcements（公告） - 自定义字段

**基本信息**：
- 公告分类
- 公告副标题
- 更新版本号
- 更新大小
- 兼容性
- 部署方式

**性能指标（可选）**：5 个固定指标位（Group 字段）
- 每个指标包含：指标数值 + 指标标签
- 留空的指标不会显示

---

### 5. Videos（视频教程） - 自定义字段

**字段列表**：
- 视频分类
- 视频副标题
- 视频时长（可选，系统会自动获取）
- 难度等级（下拉选择：Beginner/Intermediate/Advanced）
- 观看次数
- 视频语言
- 字幕可用性
- 讲师姓名
- 讲师头衔
- 讲师简介

---

## 💡 为什么使用固定数量而不是 Repeater？

### ACF 免费版的限制

- ✅ **支持**：Text、Textarea、Image、Select、Group 等基础字段
- ❌ **不支持**：Repeater、Flexible Content、Gallery 等高级字段的**可视化界面**

虽然通过代码注册的 Repeater 字段在理论上可以工作，但 ACF 免费版**不会显示添加/删除按钮**，导致无法在后台使用。

### 固定数量方案的优势

1. ✅ 完全兼容 ACF 免费版
2. ✅ 可视化编辑界面完整
3. ✅ 留空的项目不会显示
4. ✅ 足够的灵活性（6-10 个项目）

---

## 🔄 如何使用

### 编辑首页卡片

1. 后台 → 页面 → 编辑首页
2. 向下滚动，找到"首页 - 媒体报道卡片"面板
3. 开启"使用自定义卡片"开关
4. 展开"媒体卡片 1"，填写信息
5. 重复填写卡片 2-6（按需填写）
6. 点击"更新"保存

### 编辑 Research 工程师

1. 后台 → 页面 → 编辑 Research
2. 向下滚动，找到"Research 页面 - 科学家/工程师"面板
3. 开启"使用自定义工程师列表"开关
4. 展开"工程师 1"，填写信息
5. 重复填写工程师 2-10（按需填写）
6. 点击"更新"保存

### 编辑案例指标

1. 后台 → Cases → 编辑任意案例
2. 找到"案例详情"面板
3. 填写基本信息（分类、副标题）
4. 展开"性能指标 1"，填写数值和标签
5. 重复填写指标 2-5（通常填写 3 个即可）
6. 填写项目信息
7. 填写关键特性 1-10
8. 点击"更新"保存

---

## ⚠️ 注意事项

### 1. 固定数量限制

- 首页卡片：最多 6 个
- 工程师：最多 10 个
- 案例指标：最多 5 个
- 案例特性：最多 10 个
- 公告指标：最多 5 个

如果需要更多，可以：
- 修改 `/inc/acf-fields.php` 中的循环次数
- 或者升级到 ACF Pro（支持无限 Repeater）

### 2. 留空处理

- 所有留空的项目（标题为空或姓名为空）不会在前台显示
- 模板会自动跳过空项目

### 3. 开关功能

- 如果不开启"使用自定义"开关，将继续使用 Customizer 设置或默认数据
- 这样可以平滑过渡，不影响现有功能

---

## 📊 字段数量统计

| 页面/类型 | 固定数量 | 说明 |
|----------|---------|------|
| 首页 - 媒体卡片 | 6 个 | 每个卡片 5 个字段 = 30 个字段 |
| Research - 工程师 | 10 个 | 每个工程师 6 个字段 = 60 个字段 |
| Cases - 性能指标 | 5 个 | 每个指标 2 个字段 = 10 个字段 |
| Cases - 关键特性 | 10 个 | 每个特性 1 个字段 = 10 个字段 |
| Announcements - 指标 | 5 个 | 每个指标 2 个字段 = 10 个字段 |

**总计**：约 120 个自定义字段，全部通过代码自动注册！

---

## 🚀 下一步

现在所有 ACF 字段已经注册完成，接下来需要：

1. ⏳ 修改首页模板 (`index.php`) 以读取 ACF 字段
2. ⏳ 修改 Research 页面模板 (`page-research.php`) 以读取 ACF 字段
3. ⏳ 修改 Cases 模板 (`single-case.php`) 以读取新的字段结构
4. ⏳ 修改 Announcements 模板 (`single-announcement.php`) 以读取新的字段结构

这些模板修改会确保前台能正确显示 ACF 字段的内容。

---

## 🆘 故障排除

### Q: 看不到字段？
A: 确认 ACF 插件已激活，刷新页面

### Q: 开关不显示？
A: 检查页面模板是否正确设置（Research 页面需要使用 Research Page 模板）

### Q: 需要更多数量怎么办？
A: 编辑 `/inc/acf-fields.php`，修改 `for` 循环中的数字（如 `$i <= 6` 改为 `$i <= 10`）

### Q: 想要无限数量的 Repeater？
A: 考虑升级到 ACF Pro（$49 USD），或使用 Meta Box 免费插件

---

**🎉 ACF 免费版配置完成！现在可以在后台编辑所有自定义字段了！**


