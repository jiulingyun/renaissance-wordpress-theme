# ACF 字段配置指南 - 代码实现

## ✅ 已完成

所有 ACF 字段已通过代码自动注册，你**不需要手动在后台配置**！

## 🎉 主要功能

### 1. 首页 - 媒体报道卡片
- ✅ 可通过后台编辑首页时看到"媒体报道卡片列表"
- ✅ 支持无限添加/删除卡片（使用 Repeater 字段）
- ✅ 每个卡片包含：图片、标题、描述、链接、日期
- ✅ 可选择使用自定义卡片或从文章分类读取

### 2. Research 页面 - 科学家/工程师
- ✅ 可通过后台编辑 Research 页面时看到"科学家/工程师列表"
- ✅ 支持无限添加/删除工程师（使用 Repeater 字段）
- ✅ 每个工程师包含：头像、姓名、职位、研究领域、简介、个人主页链接
- ✅ 可选择使用自定义列表或使用默认数据

### 3. Cases（案例） - 性能指标使用 Repeater
- ✅ 编辑案例时，性能指标可以添加任意数量
- ✅ 关键特性也使用 Repeater，可自由添加

### 4. Announcements（公告） - 性能指标使用 Repeater
- ✅ 编辑公告时，性能指标可以添加任意数量（可选）

### 5. Videos（视频） - 完整字段支持
- ✅ 所有视频相关字段都已注册

## 📋 如何使用

### 首页卡片设置

1. 进入 WordPress 后台
2. 点击 `页面` → 编辑 `首页`
3. 向下滚动，找到 `首页 - 媒体报道卡片` 面板
4. 开启 `使用自定义卡片` 开关
5. 点击 `添加卡片` 按钮
6. 填写卡片信息
7. 重复添加多个卡片
8. 点击 `更新` 保存

### Research 页面工程师设置

1. 进入 WordPress 后台
2. 点击 `页面` → 编辑 `Research`
3. 向下滚动，找到 `Research 页面 - 科学家/工程师` 面板
4. 开启 `使用自定义工程师列表` 开关
5. 点击 `添加工程师` 按钮
6. 填写工程师信息
7. 重复添加多个工程师
8. 点击 `更新` 保存

### 案例指标设置

1. 编辑任意案例
2. 找到 `案例详情` 面板
3. 在 `性能指标` 区域点击 `添加指标`
4. 填写指标数值和标签
5. 添加 3 个指标（或更多）
6. 在 `关键特性` 区域点击 `添加特性`
7. 填写每个特性描述
8. 保存

## 🔄 兼容性

### 与现有功能的兼容

1. **Customizer 设置依然有效**
   - 如果不开启"使用自定义卡片/工程师"，将继续使用 Customizer 设置
   - 这样可以平滑过渡

2. **Polylang 多语言支持**
   - ACF 字段完全兼容 Polylang
   - 每种语言可以有独立的字段内容

3. **Elementor 兼容**
   - 如果使用 Elementor 编辑页面，ACF 字段依然可用

## 🚀 优势

### 为什么使用代码注册字段？

1. ✅ **ACF 免费版也能用 Repeater**
   - 虽然 ACF 免费版不提供可视化创建 Repeater 的功能
   - 但通过代码注册的 Repeater 完全可用！

2. ✅ **版本控制**
   - 字段配置在代码中，可以通过 Git 管理
   - 部署到生产环境时字段会自动生效

3. ✅ **易于维护**
   - 统一管理所有字段
   - 修改字段只需修改一个文件

4. ✅ **性能更好**
   - 不需要从数据库读取字段配置
   - 启动更快

## ⚠️ 注意事项

1. **ACF 插件必须激活**
   - 如果 ACF 未激活，字段将不会显示
   - 主题会自动检测并显示提示信息

2. **字段名称不要修改**
   - 模板文件使用字段名称来读取数据
   - 如需修改，需同时更新模板文件

3. **Repeater 字段的数据格式**
   - 在模板中使用 `have_rows()` 和 `the_row()` 读取
   - 参考示例代码（即将更新到模板文件）

## 📖 下一步

1. ✅ ACF 字段已注册 - **已完成**
2. ⏳ 修改首页模板以支持 ACF 字段
3. ⏳ 修改 Research 页面模板以支持 ACF 字段
4. ⏳ 修改 Cases 模板以支持 Repeater 指标
5. ⏳ 修改 Announcements 模板以支持 Repeater 指标

## 🆘 故障排除

### 看不到 ACF 字段？

1. 确认 ACF 插件已激活
2. 清除浏览器缓存
3. 检查页面/文章是否符合位置规则

### Repeater 字段不显示？

- 通过代码注册的 Repeater 字段完全正常
- 即使 ACF 免费版也能使用！

### 需要修改字段？

- 编辑 `/theme/renaissance/inc/acf-fields.php` 文件
- 保存后刷新页面即可看到更改


